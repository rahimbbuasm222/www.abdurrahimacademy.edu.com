<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abdur Rahim Academy of Creation</title>
    <style>
        body { font-family: 'SolaimanLipi', sans-serif; margin: 0; background: #f4f4f4; }
        
        /* Header Style (Govt Look) */
        header { background: #006a4e; color: white; padding: 20px; text-align: center; border-bottom: 5px solid #f42a41; }
        h1 { margin: 0; font-size: 28px; }
        p { margin: 5px; font-size: 16px; }

        /* Navigation */
        nav { background: #2c3e50; overflow: hidden; }
        nav a { float: left; display: block; color: white; text-align: center; padding: 14px 20px; text-decoration: none; }
        nav a:hover { background-color: #ddd; color: black; }

        /* Marquee (Scrolling News) */
        .scrolling-news { background: #e0f7fa; padding: 10px; color: #006064; font-weight: bold; border-bottom: 1px solid #ddd; }

        .container { display: flex; max-width: 1100px; margin: 20px auto; gap: 20px; }
        
        /* Sidebar */
        .sidebar { flex: 1; background: white; padding: 15px; border: 1px solid #ddd; height: fit-content; }
        .sidebar img { width: 100%; border: 1px solid #ccc; padding: 3px; }
        
        /* Main Content */
        .main-content { flex: 3; background: white; padding: 20px; border: 1px solid #ddd; }
        
        /* Notice Board Table */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid #ddd; padding: 10px; text-align: left; }
        th { background-color: #006a4e; color: white; }
        tr:nth-child(even) { background-color: #f2f2f2; }
        
        footer { background: #222; color: white; text-align: center; padding: 20px; margin-top: 20px; }
    </style>
</head>
<body>

    <header>
        <h1>‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶∞ ‡¶∞‡¶π‡¶ø‡¶Æ ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø ‡¶Ö‡¶´ ‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡ßá‡¶∂‡¶®</h1>
        <p>  ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ü‡¶á‡¶ü‡¶ø ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶®</p>
    </header>

    <nav>
        <a href="/">‡¶π‡ßã‡¶Æ</a>
        <a href="/about">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá</a>
        <a href="/services">‡¶∏‡ßá‡¶¨‡¶æ‡¶∏‡¶Æ‡ßÇ‡¶π</a>
        <a href="/gallery">‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</a>
        <a href="/admin" style="background: #e74c3c;">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</a>
    </nav>

    <!-- Scrolling News -->
    <div class="scrolling-news">
        <marquee>‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶∞ ‡¶∞‡¶π‡¶ø‡¶Æ ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø‡¶§‡ßá ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶ö‡¶≤‡¶õ‡ßá... ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡¶æ‡¶≤ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶ó‡ßú‡¶æ‡¶∞ ‡¶≤‡¶ï‡ßç‡¶∑‡ßç‡¶Ø‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ö‡¶ô‡ßç‡¶ó‡ßÄ‡¶ï‡¶æ‡¶∞‡¶¨‡¶¶‡ßç‡¶ß‡•§</marquee>
    </div>

    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <h3 style="background:#006a4e; color:white; padding:5px; text-align:center;">‡¶Æ‡¶æ‡¶®‡¶®‡ßÄ‡¶Ø‡¶º ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶§‡¶æ</h3>
            <img src="/images/family.jpg" alt="Abdur Rahim">
            <p style="text-align:center; font-weight:bold;">‡¶ú‡¶®‡¶æ‡¶¨ ‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶∞ ‡¶∞‡¶π‡¶ø‡¶Æ</p>
            <p style="text-align:center; font-size:13px;">‡¶ö‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®<br>‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶∞ ‡¶∞‡¶π‡¶ø‡¶Æ ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø</p>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <h2 style="color: #006a4e; border-bottom: 2px solid #f42a41;">‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶¨‡ßã‡¶∞‡ßç‡¶°</h2>
            <ul id="notice-list">
                <!-- Notices will load here via JS -->
            </ul>
            
            <table>
                <thead>
                    <tr>
                        <th width="70%">‡¶¨‡¶ø‡¶∑‡ßü (‡¶®‡ßã‡¶ü‡¶ø‡¶∂)</th>
                        <th width="30%">‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∂‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th>
                    </tr>
                </thead>
                <tbody id="notice-table-body">
                    <!-- Data form Backend -->
                </tbody>
            </table>
        </div>
    </div>

    <footer>
        <p>¬© ‡ß®‡ß¶‡ß®‡ß´ ‡¶Ü‡¶¨‡ßç‡¶¶‡ßÅ‡¶∞ ‡¶∞‡¶π‡¶ø‡¶Æ ‡¶è‡¶ï‡¶æ‡¶°‡ßá‡¶Æ‡¶ø ‡¶Ö‡¶´ ‡¶ï‡ßç‡¶∞‡¶ø‡ßü‡ßá‡¶∂‡¶® | ‡¶∏‡¶∞‡ßç‡¶¨‡¶∏‡ßç‡¶¨‡¶§‡ßç‡¶¨ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§</p>
    </footer>

    <script>
        async function loadNotices() {
            const response = await fetch('/api/notices');
            const data = await response.json();
            
            const tableBody = document.getElementById('notice-table-body');
            tableBody.innerHTML = '';

            data.forEach(notice => {
                // ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶ï‡¶∞‡¶æ
                const dateObj = new Date(notice.date);
                const formattedDate = dateObj.toLocaleDateString('bn-BD');

                const row = `<tr>
                    <td>
                        üìÑ ${notice.title} 
                        <br>
                        <!-- ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶¨‡¶æ‡¶ü‡¶® (‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶≠‡ßÅ‡¶≤ ‡¶∏‡¶Ç‡¶∂‡ßã‡¶ß‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø) -->
                        <button onclick="deleteNotice('${notice._id}')" style="color:red; cursor:pointer; border:none; background:none; font-size:12px;">[Delete]</button>
                    </td>
                    <td>${formattedDate}</td>
                </tr>`;
                tableBody.innerHTML += row;
            });
        }

        // ‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
        async function deleteNotice(id) {
            if(confirm("‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶è‡¶á ‡¶®‡ßã‡¶ü‡¶ø‡¶∂‡¶ü‡¶ø ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) {
                await fetch('/api/notices/' + id, { method: 'DELETE' });
                alert("‡¶®‡ßã‡¶ü‡¶ø‡¶∂ ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
                loadNotices(); // ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂
            }
        }

        loadNotices();
    </script>
</body>
</html>